(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d044d97"],{"02b1":function(t,e,i){},"0cd8":function(t,e,i){},"0f40":function(t,e,i){},"0fb0":function(t,e,i){},"10eb":function(t,e,i){"use strict";i("02b1")},2504:function(t,e,i){},3755:function(t,e,i){},"38d0":function(t,e,i){"use strict";i("3755")},"4abd":function(t,e,i){},"502a":function(t,e,i){"use strict";i("0fb0")},"568e":function(t,e,i){},"56bf":function(t,e,i){"use strict";i("2504")},"5aa4":function(t,e,i){"use strict";i("4abd")},"61b5":function(t,e,i){"use strict";i("7b44")},"65d2":function(t,e,i){},"739a":function(t,e,i){},"7b44":function(t,e,i){},8572:function(t,e,i){"use strict";i("65d2")},"88b2":function(t,e,i){"use strict";i("568e")},"89d9":function(t,e,i){},"9d60":function(t,e,i){"use strict";i("bd1a")},a9c5:function(t,e,i){},b48b:function(t,e,i){"use strict";i("e83e")},bd1a:function(t,e,i){},c34a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-editor editor-wrapper"},[i("div",{staticClass:"editor-side-bar border-R"},[i("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"},model:{value:t.activeSideBar,callback:function(e){t.activeSideBar=e},expression:"activeSideBar"}},t._l(t.sidebarMenus,(function(t,e){return i("el-tab-pane",{key:e,attrs:{name:t.value}},[i("el-tooltip",{staticClass:"item",attrs:{slot:"label",effect:"dark",content:t.label,placement:"right"},slot:"label"},[i("i",{class:t.elementUiIcon})])],1)})),1)],1),i("div",{staticClass:"editor-page-edit-wrapper"},["componentLibs"===t.activeSideBar?i("componentLibs"):t._e(),"pageManage"===t.activeSideBar?i("pageManage"):t._e(),"templateLibs"===t.activeSideBar?i("templateLibs"):t._e()],1),i("div",{staticClass:"editor-main"},[i("div",{staticClass:"control-bar-wrapper"},[i("controlBar",{attrs:{scale:t.canvasConfig.scale},on:{"update:scale":function(e){return t.$set(t.canvasConfig,"scale",e)},"import-psd-data":t.importPsdData,showPreview:t.showPreviewFn,cancel:t.cancelFn,publish:t.publishFn,save:t.saveFn}})],1),i("editorPan",{attrs:{scale:t.canvasConfig.scale},on:{"update:scale":function(e){return t.$set(t.canvasConfig,"scale",e)}}})],1),i("div",{staticClass:"el-attr-edit-wrapper scrollbar-wrapper"},[i("el-tabs",{attrs:{stretch:""},model:{value:t.activeAttr,callback:function(e){t.activeAttr=e},expression:"activeAttr"}},[i("el-tab-pane",{attrs:{label:"属性",name:"属性"}},[i("attrEdit")],1),i("el-tab-pane",{attrs:{label:"事件",name:"事件"}},[i("eventEdit")],1),i("el-tab-pane",{attrs:{label:"动画",name:"动画"}},[i("animationEdit")],1),i("el-tab-pane",{attrs:{label:"JS脚本",name:"脚本"}},[i("scriptEdit")],1),i("el-tab-pane",{attrs:{label:"页面设置",name:"页面属性"}},[i("pageAttrEdit")],1)],1)],1),t.showPreview?i("previewPage",{attrs:{pageData:t.projectData,pageId:t.id},on:{closePreview:function(e){t.showPreview=!1},publishFn:t.publishFn,saveFn:t.saveFn}}):t._e(),i("imageLibs")],1)},a=[],o=(i("8e6e"),i("456d"),i("ac6a"),i("96cf"),i("1da1")),c=i("ade3"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-libs-wrapper scrollbar-wrapper"},[i("p",{staticClass:"page-title text-center"},[t._v("组件库")]),i("el-scrollbar",{staticStyle:{height:"100%"}},[i("ul",{staticClass:"scrollbar-wrapper"},t._l(t.componentsList,(function(e,n){return i("li",{key:n,staticClass:"clearfix paddingB30"},[i("div",{staticClass:"components-libs-title"},[i("p",[t._v(t._s(e.title))])]),e.components&&e.components.length?i("div",t._l(e.components,(function(e,n){return i("div",{key:n,staticClass:"components-lib-item",on:{click:function(i){return t.handleClick(e)}}},[i("div",{staticClass:"lib-item-img"},[i("i",{class:[e.icon]})]),i("p",{staticClass:"lib-item-title"},[t._v(t._s(e.title))])])})),0):i("div",[i("p",{staticClass:"gray text-center paddingT20"},[t._v("待完善...")])])])})),0)])],1)},s=[],l=(i("6762"),i("2fdb"),i("2ef0")),p=i("9b2a"),u=[{title:"基础组件",components:[{elName:"qk-text",title:"文字",icon:"iconfont iconwenben",valueType:"",defaultStyle:{height:40}},{elName:"qk-image",title:"图片",icon:"iconfont icontupian",valueType:"",defaultStyle:{height:200}},{elName:"qk-button",title:"按钮",icon:"iconfont iconanniuzu",valueType:"",defaultStyle:{width:140,height:40,paddingTop:10,paddingBottom:10,borderColor:"#999999",borderStyle:"solid",borderWidth:1,borderRadius:4}},{elName:"qk-rectangle-border",title:"矩形边框",icon:"iconfont iconjuxing",valueType:"",defaultStyle:{width:120,height:100,borderColor:"#999999",borderStyle:"solid",borderWidth:2}},{elName:"qk-rectangle-border",title:"分割线",icon:"iconfont icon758bianjiqi_fengexian",valueType:"",defaultStyle:{height:1,width:300,backgroundColor:"#999999"}},{elName:"qk-image-carousel",title:"图片轮播",icon:"iconfont iconshouyelunbotu",valueType:"",defaultStyle:{height:210}},{elName:"qk-iframe",title:"内嵌iframe",icon:"iconfont iconiframetianjia",valueType:"",defaultStyle:{width:p["a"].canvasH5Width,height:300,paddingTop:10,paddingBottom:10}},{elName:"map",title:"地图",icon:"iconfont iconditu",valueType:"",defaultStyle:{width:300,height:200,paddingTop:10,paddingBottom:10}},{elName:"video",title:"视频",icon:"iconfont iconshipin",valueType:"",defaultStyle:{width:p["a"].canvasH5Width,height:300,paddingTop:10,paddingBottom:10}}]},{title:"表单组件",components:[{elName:"input",title:"文本框",icon:"iconfont iconwenbenkuang"},{elName:"radio",title:"单选框",icon:"iconfont iconplus-radio"},{elName:"checkbox",title:"复选框",icon:"iconfont iconduoxuan"},{elName:"date",title:"日期选择器",icon:"iconfont iconriqi"},{elName:"time",title:"时间选择器",icon:"iconfont iconshijian"},{elName:"datetime",title:"日期时间",icon:"iconfont iconriqishijian"}]},{title:"功能组件",components:[{elName:"qk-bg-music",title:"音乐",icon:"iconfont iconyinlemusic217",valueType:"",defaultStyle:{height:52,width:52}}]},{title:"业务组件",components:[]}],m=i("03ce");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}window._qk_register_components_object=m["a"],console.log(m["a"]);var f={name:"component-libs",data:function(){return{componentsList:u}},methods:{handleClick:function(t){var e=this.getComponentProps(t.elName);this.$store.dispatch("addElement",v(v({},t),{},{needProps:e}))},getComponentProps:function(t){var e;for(var i in m["a"])if(i.toLowerCase()===Object(l["camelCase"])(t).toLowerCase()){e=m["a"][i];break}if(!e)return{};var n={};for(var a in e.props)n[a]=[Object,Array].includes(e.props[a].type)?e.props[a].default():e.props[a].default;return n}}},h=f,b=(i("b48b"),i("2877")),g=Object(b["a"])(h,r,s,!1,null,"5d5b429c",null),y=g.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-page-manage scrollbar-wrapper"},[i("p",{staticClass:"page-title text-center"},[t._v("页面管理")]),i("el-scrollbar",{staticClass:"components-main-conten",staticStyle:{height:"100%"}},t._l(t.projectData.pages,(function(e,n){return i("div",{key:e.uuid,staticClass:"page-item clearfix",class:{active:t.activePageUUID===e.uuid},on:{click:function(i){return t.changeActivePage(e)}}},[i("div",{staticClass:"inline-block"},[i("span",{staticClass:"page-item-index"},[t._v(t._s(n+1))]),t._v("\n        第"+t._s(n+1)+"页\n      ")]),i("div",{staticClass:"page-item-btn-wrapper pull-right width20"},[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-more-outline"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("div",{staticClass:"btn-item",on:{click:function(i){return t.copyPage(e)}}},[i("i",{staticClass:"el-icon-document-copy"}),t._v(" 复制页面")])]),i("el-dropdown-item",[i("div",{staticClass:"btn-item",on:{click:function(i){return t.addPage(e)}}},[i("i",{staticClass:"el-icon-document-add"}),t._v(" 新增页面")])]),i("el-dropdown-item",[i("div",{staticClass:"btn-item",on:{click:function(i){return t.deletePage(e)}}},[i("i",{staticClass:"el-icon-delete"}),t._v(" 删除页面")])])],1)],1)],1)])})),0),i("div",{staticClass:"bottom-btn-wrapper"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addPage()}}},[t._v("新增空页面")])],1)],1)},C=[],O=i("2f62");function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var P={computed:S({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),methods:{changeActivePage:function(t){this.$store.dispatch("setActivePageUUID",t.uuid)},copyPage:function(t){this.$store.dispatch("copyPage",t.uuid)},addPage:function(t){this.$store.dispatch("addPage",t?t.uuid:"")},deletePage:function(t){this.$store.dispatch("deletePage",t.uuid)}}},E=P,x=(i("de7e"),Object(b["a"])(E,w,C,!1,null,"bd8b7af2",null)),k=x.exports,D=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"page-title text-center"},[t._v("模板库")]),i("p",{staticClass:"gray text-center paddingT20"},[t._v("待完善...")])])}],U={name:"template-libs"},I=U,$=Object(b["a"])(I,D,_,!1,null,"4b151f6e",null),A=$.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"editorPane",staticClass:"editor-pane",on:{click:t.handleClickCanvas,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleKeyup(e)}}},[i("div",{staticClass:"editor-pane-inner"},[i("div",{staticClass:"editor-main",style:{transform:"scale("+t.scale+")",width:t.projectData.width+"px",height:t.projectData.height+"px"}},[i("div",{ref:"canvas-panel",staticClass:"page-preview-wrapper",style:t.getCommonStyle(t.activePage.commonStyle),attrs:{id:"canvas-panel"}},t._l(t.activePage.elements,(function(e){return i("edit-shape",{key:e.uuid,style:t.getCommonStyle({width:e.commonStyle.width,height:e.commonStyle.height,left:e.commonStyle.left,top:e.commonStyle.top,position:e.commonStyle.position}),attrs:{uuid:e.uuid,defaultStyle:e.commonStyle,active:e.uuid===t.activeElementUUID},on:{handleElementClick:function(i){return t.handleElementClick(e.uuid)},resize:t.handleElementResize}},[i(e.elName,t._b({tag:"component",staticClass:"element-on-edit-pane",style:t.getCommonStyle(Object.assign({},e.commonStyle,{top:0,left:0}))},"component",e.propsValue,!1))],1)})),1),i("div",{staticClass:"page-wrapper-mask"})]),i("div",{staticClass:"page-wrapper-menu-operation menu-item-on-edit-panel",class:{active:t.activeElementUUID},style:t.getMenuOptionsPositionStyle},t._l(t.menuOptions,(function(e,n){return i("el-tooltip",{key:n,attrs:{effect:"dark",content:e.title,placement:"right"}},[i("div",{staticClass:"menu-item menu-item-on-edit-panel",on:{click:function(i){return t.handleElementCommand(e.value)}}},[i("i",{staticClass:"menu-item-on-edit-panel",class:[e.icon]})])])})),1)])])},T=[],L=(i("7f7f"),i("c5f6"),i("a402")),V=i("1336"),H=i("c0e9"),N=i.n(H);function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function B(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}window._qk_register_components_object=m["a"];var q={props:{scale:{type:Number,default:1}},components:B(B({},m["a"]),{},Object(c["a"])({},L["a"].name,L["a"])),data:function(){return{getCommonStyle:V["a"].getCommonStyle,menuOptions:[{title:"复制",icon:"iconfont iconfuzhi",value:"copy"},{title:"删除",icon:"iconfont iconshanchu",value:"delete"},{title:"字体放大",icon:"iconfont iconzitifangda",value:"fontA+"},{title:"字体缩小",icon:"iconfont iconzitisuoxiao",value:"fontA-"},{title:"字体加粗",icon:"iconfont iconzitijiacu",value:"fontB"},{title:"图层上移",icon:"iconfont iconziyuan1",value:"layerUp"},{title:"图层下移",icon:"iconfont iconxiayiyiceng",value:"layerDown"},{title:"图层置顶",icon:"iconfont iconcontrol-top",value:"layerTop"},{title:"图层置底",icon:"iconfont iconcontrol-bottom",value:"layerBottom"}],editorPaneWidth:0}},computed:B(B(B({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),{},{getMenuOptionsPositionStyle:function(){return{}}}),mounted:function(){this.editorPaneWidth=this.$refs.editorPane.offsetHeight},methods:{handleElementClick:function(t){this.$store.dispatch("setActiveElementUUID",t)},handleElementResize:function(t){t?(this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle.left=t.left,this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle=B({},t)):this.$store.dispatch("addHistoryCache")},handleClickCanvas:function(t){t.target.classList.contains("element-on-edit-pane")||t.target.classList.contains("menu-item-on-edit-panel")||this.$store.dispatch("setActiveElementUUID","")},handleElementCommand:function(t){this.$store.dispatch("elementCommand",t)},handleKeyup:function(t){console.log(1111,t)},screenshots:function(){var t=this,e=document.querySelector("#canvas-panel");N()(e,{width:375,height:667,proxy:"/htmltocanvas/corsproxy"}).then((function(e){var i=e.toDataURL("image/jpeg");t.$store.commit("updateCoverImage",i)}))}}},F=q,W=(i("56bf"),Object(b["a"])(F,z,T,!1,null,"abe6956a",null)),M=W.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?i("div",{staticClass:"attr-edit-inner"},[i("div",{staticClass:"props-attr-style"},[i("propsAttr")],1),i("div",{staticClass:"common-attr-style"},[i("baseAttr")],1)]):i("div",[i("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])])},K=[],X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"page-title fontBold"},[t._v("基础样式")]),i("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"尺寸与位置：",name:"1"}},[i("div",{staticClass:"attr-item-edit-wrapper marginB15"},[i("p",{staticClass:"attr-item-title"},[t._v("快捷定位：")]),i("div",{staticClass:"sizeAndPosition-wrapper"},t._l(t.alignTypeList,(function(e){return i("div",{key:e.type,staticClass:"align-type-item",on:{click:function(i){return t.changeAlignType(e.type)}}},[i("el-tooltip",{attrs:{effect:"dark",content:e.title,placement:"bottom"}},[i("i",{class:[e.icon]})])],1)})),0)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("尺寸：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.activeElement.commonStyle.width,callback:function(e){t.$set(t.activeElement.commonStyle,"width",e)},expression:"activeElement.commonStyle.width"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("宽度")])],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.activeElement.commonStyle.height,callback:function(e){t.$set(t.activeElement.commonStyle,"height",e)},expression:"activeElement.commonStyle.height"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("高度")])],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("快捷resize：")]),i("div",{staticClass:"sizeAndPosition-wrapper"},[i("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleResizeClick("wh")}}},[i("el-tooltip",{attrs:{effect:"dark",content:"满屏",placement:"bottom"}},[i("i",{staticClass:"iconfont iconquanping"})])],1),i("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleResizeClick("w")}}},[i("el-tooltip",{attrs:{effect:"dark",content:"宽100%",placement:"bottom"}},[i("i",{staticClass:"iconfont iconcolumn-width"})])],1),i("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleResizeClick("h")}}},[i("el-tooltip",{attrs:{effect:"dark",content:"高100%",placement:"bottom"}},[i("i",{staticClass:"iconfont iconcolum-height"})])],1)])]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("位置：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.activeElement.commonStyle.top,callback:function(e){t.$set(t.activeElement.commonStyle,"top",e)},expression:"activeElement.commonStyle.top"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:t.activeElement.commonStyle.left,callback:function(e){t.$set(t.activeElement.commonStyle,"left",e)},expression:"activeElement.commonStyle.left"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("旋转：")]),i("div",{staticClass:"col-1 attr-item-edit-input"},[i("el-slider",{attrs:{"show-input":"",min:-180,max:180,marks:{0:"",90:"","-90":""},"input-size":"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.rotate,callback:function(e){t.$set(t.activeElement.commonStyle,"rotate",e)},expression:"activeElement.commonStyle.rotate"}})],1)])]),i("el-collapse-item",{attrs:{title:"边框边距：",name:"2"}},[i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("边框：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderWidth,callback:function(e){t.$set(t.activeElement.commonStyle,"borderWidth",e)},expression:"activeElement.commonStyle.borderWidth"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("尺寸")])],1),i("div",{staticClass:"col-3 attr-item-edit-input"},[i("el-color-picker",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderColor,callback:function(e){t.$set(t.activeElement.commonStyle,"borderColor",e)},expression:"activeElement.commonStyle.borderColor"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("颜色")])],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-select",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderStyle,callback:function(e){t.$set(t.activeElement.commonStyle,"borderStyle",e)},expression:"activeElement.commonStyle.borderStyle"}},t._l(t.borderStyleList,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("样式")])],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("边框圆弧：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderRadius,callback:function(e){t.$set(t.activeElement.commonStyle,"borderRadius",e)},expression:"activeElement.commonStyle.borderRadius"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("上下边距：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingTop,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingTop",e)},expression:"activeElement.commonStyle.paddingTop"}})],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingBottom,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingBottom",e)},expression:"activeElement.commonStyle.paddingBottom"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("左右边距：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingLeft,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingLeft",e)},expression:"activeElement.commonStyle.paddingLeft"}})],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingRight,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingRight",e)},expression:"activeElement.commonStyle.paddingRight"}})],1)])]),i("el-collapse-item",{attrs:{title:"阴影样式：",name:"3"}},[i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("阴影位置：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.h,callback:function(e){t.$set(t.boxShadow,"h",e)},expression:"boxShadow.h"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("水平阴影位置")])],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.v,callback:function(e){t.$set(t.boxShadow,"v",e)},expression:"boxShadow.v"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("垂直阴影位置")])],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("阴影位置：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.blur,callback:function(e){t.$set(t.boxShadow,"blur",e)},expression:"boxShadow.blur"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("水平阴影位置")])],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.spread,callback:function(e){t.$set(t.boxShadow,"spread",e)},expression:"boxShadow.spread"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("垂直阴影位置")])],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("阴影颜色：")]),i("div",{staticClass:"attr-item-edit-input"},[i("el-color-picker",{attrs:{size:"mini"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.color,callback:function(e){t.$set(t.boxShadow,"color",e)},expression:"boxShadow.color"}})],1)])]),i("el-collapse-item",{attrs:{title:"字体：",name:"4"}},[i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("字体大小：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontSize,callback:function(e){t.$set(t.activeElement.commonStyle,"fontSize",e)},expression:"activeElement.commonStyle.fontSize"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("字体粗细：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:300,step:100,max:900},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontWeight,callback:function(e){t.$set(t.activeElement.commonStyle,"fontWeight",e)},expression:"activeElement.commonStyle.fontWeight"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("行间距：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,step:.1},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.lineHeight,callback:function(e){t.$set(t.activeElement.commonStyle,"lineHeight",e)},expression:"activeElement.commonStyle.lineHeight"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("字间距：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.letterSpacing,callback:function(e){t.$set(t.activeElement.commonStyle,"letterSpacing",e)},expression:"activeElement.commonStyle.letterSpacing"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("对齐方式：")]),i("div",{staticClass:"sizeAndPosition-wrapper"},[i("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("left")}}},[i("el-tooltip",{attrs:{effect:"dark",content:"左对齐",placement:"bottom"}},[i("i",{staticClass:"iconfont iconzuoduiqi1"})])],1),i("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("center")}}},[i("el-tooltip",{attrs:{effect:"dark",content:"居中对齐",placement:"bottom"}},[i("i",{staticClass:"iconfont iconjuzhongduiqi"})])],1),i("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("right")}}},[i("el-tooltip",{attrs:{effect:"dark",content:"右对齐",placement:"bottom"}},[i("i",{staticClass:"iconfont iconyouduiqi2"})])],1)])]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("字体颜色：")]),i("div",{staticClass:"attr-item-edit-input"},[i("el-color-picker",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.color,callback:function(e){t.$set(t.activeElement.commonStyle,"color",e)},expression:"activeElement.commonStyle.color"}})],1)])]),i("el-collapse-item",{attrs:{title:"背景&&透明度：",name:"5"}},[i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("背景颜色：")]),i("div",{staticClass:"attr-item-edit-input no-top"},[i("el-color-picker",{attrs:{size:"mini","show-alpha":!0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.backgroundColor,callback:function(e){t.$set(t.activeElement.commonStyle,"backgroundColor",e)},expression:"activeElement.commonStyle.backgroundColor"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("背景图片：")]),i("div",{staticClass:"attr-item-edit-input"},[i("imageSelect",{attrs:{url:t.activeElement.commonStyle.backgroundImage},on:{"update:url":function(e){return t.$set(t.activeElement.commonStyle,"backgroundImage",e)},change:t.throttleAddHistory}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("透明度：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:1,step:.1},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.opacity,callback:function(e){t.$set(t.activeElement.commonStyle,"opacity",e)},expression:"activeElement.commonStyle.opacity"}})],1)])])],1)],1)},Y=[],G=(i("a481"),i("28a5"),i("68af"));function Q(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Q(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var tt,et={components:{imageSelect:G["a"]},data:function(){return{activeNames:["1"],alignTypeList:[{title:"左对齐",icon:"iconfont iconzuoduiqi",type:"l"},{title:"上对齐",icon:"iconfont iconshangduiqi",type:"t"},{title:"右对齐",icon:"iconfont iconyouduiqi",type:"r"},{title:"下对齐",icon:"iconfont iconxiaduiqi",type:"b"},{title:"垂直居中对齐",icon:"iconfont iconchuizhijuzhongduiqi",type:"tb"},{title:"水平居中对齐",icon:"iconfont iconshuipingjuzhongduiqi",type:"lr"}],borderStyleList:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点状",value:"dotted"},{label:"双线",value:"double"}],boxShadow:{h:0,v:0,blur:0,spread:0,color:"#000000"}}},computed:Z(Z({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID},activeAttrEditCollapse:function(t){return t.editor.activeAttrEditCollapse}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),watch:{activeElementUUID:function(){var t=this;this.$nextTick((function(){t.initBoxShadowEdit()}))},activeNames:function(){this.$store.commit("updateActiveAttrEditCollapse",this.activeNames)}},created:function(){this.throttleAddHistory=Object(l["throttle"])(this.addHistory,3e3)},mounted:function(){this.initBoxShadowEdit(),this.activeNames=this.activeAttrEditCollapse},methods:{addHistory:function(){this.$store.dispatch("addHistoryCache")},changeAlignType:function(t){var e=this.$config.canvasH5Width,i=this.$config.canvasH5Height,n=this.activeElement.commonStyle.width,a=this.activeElement.commonStyle.height;switch(t){case"t":this.activeElement.commonStyle.top=0;break;case"b":this.activeElement.commonStyle.top=Object(l["subtract"])(i-a);break;case"l":this.activeElement.commonStyle.left=0;break;case"r":this.activeElement.commonStyle.left=Object(l["subtract"])(e-n);break;case"tb":this.activeElement.commonStyle.top=Object(l["ceil"])(Object(l["divide"])(Object(l["subtract"])(i-a),2),2);break;case"lr":this.activeElement.commonStyle.left=Object(l["ceil"])(Object(l["divide"])(Object(l["subtract"])(e-n),2),2);break}},initBoxShadowEdit:function(){var t=this.activeElement.commonStyle.boxShadow,e={h:0,v:0,blur:0,spread:0,color:"#000000"};if(t&&"none"!==t){var i=t.split(" ");e={h:parseInt(i[0].replace("px","")),v:parseInt(i[1].replace("px","")),blur:parseInt(i[2].replace("px","")),spread:parseInt(i[3].replace("px","")),color:i[4]},this.boxShadow=e}else this.boxShadow=e},boxShadowChange:function(){var t="".concat(this.boxShadow.h,"px ").concat(this.boxShadow.v,"px  ").concat(this.boxShadow.blur,"px  ").concat(this.boxShadow.spread,"px  ").concat(this.boxShadow.color);this.activeElement.commonStyle.boxShadow=t},handleTextAlignClick:function(t){this.activeElement.commonStyle.textAlign=t},handleResizeClick:function(t){t.includes("w")&&(this.activeElement.commonStyle.left=0,this.activeElement.commonStyle.width=this.$config.canvasH5Width),t.includes("h")&&(this.activeElement.commonStyle.top=0,this.activeElement.commonStyle.height=this.$config.canvasH5Height)}}},it=et,nt=(i("61b5"),i("cd9a"),Object(b["a"])(it,X,Y,!1,null,"40c442fa",null)),at=nt.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.currentElementProps.length?i("div",[i("div",{staticClass:"attr-title marginB10 fontBold"},[t._v("组件属性")]),i("el-form",t._l(t.currentElementProps,(function(e){return i("attr-qk-"+e,t._b({key:e,tag:"component"},"component",t.activeElement.propsValue,!1,!0))})),1)],1):t._e()},ct=[],rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{attrs:{label:"文本内容："}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入文本内容"},model:{value:t.tempText,callback:function(e){t.tempText=e},expression:"tempText"}})],1)},st=[],lt={name:"attr-qk-text",props:{text:String},data:function(){return{tempText:""}},mounted:function(){this.tempText=this.text},watch:{text:function(){this.tempText=this.text},tempText:function(){this.$emit("update:text",this.tempText)}}},pt=lt,ut=Object(b["a"])(pt,rt,st,!1,null,"0bd86095",null),mt=ut.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{attrs:{label:"图片："}},[i("imageSelect",{attrs:{url:t.tempValue},on:{"update:url":function(e){t.tempValue=e}}})],1)},vt=[],ft={name:"attr-qk-imageSrc",props:{imageSrc:String},components:{imageSelect:G["a"]},data:function(){return{tempValue:""}},mounted:function(){this.tempValue=this.imageSrc},watch:{imageSrc:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:imageSrc",this.tempValue)}}},ht=ft,bt=Object(b["a"])(ht,dt,vt,!1,null,"6e50d981",null),gt=bt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{attrs:{label:"图片列表："}},t._l(t.tempValue,(function(e,n){return i("div",{key:n},[i("imageSelect",{attrs:{url:e.url},on:{"update:url":function(i){return t.$set(e,"url",i)},change:t.change}}),i("span",{staticClass:"imageSelect-btn"},[i("i",{staticClass:"el-icon-circle-plus-outline"})]),i("span",{staticClass:"imageSelect-btn"},[i("i",{staticClass:"el-icon-remove-outline"})])],1)})),0)},wt=[],Ct={name:"attr-qk-imageSrcList",props:{imageSrcList:{type:Array,default:function(){return[]}}},components:{imageSelect:G["a"]},data:function(){return{tempValue:[]}},created:function(){this.initData()},watch:{imageSrc:function(){this.initData()}},methods:{initData:function(){var t=[];this.imageSrcList.forEach((function(e){t.push({url:e})})),this.tempValue=t},getResultImageSrcList:function(){for(var t=[],e=0,i=this.tempValue.length;e<i;e++)t.push(this.tempValue[e].url);return t},change:function(){this.$emit("update:imageSrcList",this.getResultImageSrcList())}}},Ot=Ct,jt=Object(b["a"])(Ot,yt,wt,!1,null,"712e3a45",null),St=jt.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{attrs:{label:"url地址："}},[i("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)},Et=[],xt={name:"attr-qk-url",props:{url:String},data:function(){return{tempValue:""}},mounted:function(){this.tempValue=this.url},watch:{url:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:url",this.tempValue)}}},kt=xt,Dt=Object(b["a"])(kt,Pt,Et,!1,null,"da1637ac",null),_t=Dt.exports,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{attrs:{label:"资源地址："}},[i("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)},It=[],$t={name:"attr-qk-musicSrc",props:{musicSrc:String},data:function(){return{tempValue:""}},mounted:function(){this.tempValue=this.musicSrc},watch:{musicSrc:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:musicSrc",this.tempValue)}}},At=$t,zt=Object(b["a"])(At,Ut,It,!1,null,"d6e59b26",null),Tt=zt.exports,Lt=(tt={},Object(c["a"])(tt,mt.name,mt),Object(c["a"])(tt,gt.name,gt),Object(c["a"])(tt,_t.name,_t),Object(c["a"])(tt,Tt.name,Tt),Object(c["a"])(tt,St.name,St),tt);function Vt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ht(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Vt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Nt={components:Ht({},Lt),computed:Ht(Ht(Ht({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),{},{currentElementProps:function(){if(!this.activeElement.propsValue)return[];var t=Object.keys(this.activeElement.propsValue),e=Object.keys(Lt);return t=t.filter((function(t){return e.includes("attr-qk-"+t)})),t}})},Rt=Nt,Bt=Object(b["a"])(Rt,ot,ct,!1,null,"e2c7b0ae",null),qt=Bt.exports;function Ft(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Wt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ft(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Mt={props:{},components:{baseAttr:at,propsAttr:qt},computed:Wt(Wt({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex"]))},Jt=Mt,Kt=(i("d444"),i("f985"),Object(b["a"])(Jt,J,K,!1,null,"187bca33",null)),Xt=Kt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-attr-edit components-attr-animate-edit"},[i("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?i("div",{staticClass:"attr-edit-inner"},[i("div",{staticClass:"animate-edit-btn-wrapper"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addAnimate}},[t._v("添加动画")]),i("el-button",{attrs:{icon:"el-icon-caret-right",size:"small"},on:{click:function(e){return t.runAnimate(void 0)}}},[t._v("预览动画")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.animations.length,expression:"activeElement.animations.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[i("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.animations,(function(e,n){return i("el-collapse-item",{key:n},[i("template",{slot:"title"},[i("span",{staticClass:"el-animate-title-name"},[t._v("动画 "+t._s(n))]),i("div",{staticClass:"el-animate-title-type-wrapper"},[i("span",{staticClass:"el-animate-title-type",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleShowChooseAnimatePanel(n)}}},[t._v(t._s(e.type)+"  "),i("i",{staticClass:"el-icon-caret-right size-mini"})])]),i("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.runAnimate(n)}}},[i("i",{staticClass:"el-icon-caret-right"})]),i("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleDeleteAnimate(e)}}},[i("i",{staticClass:"el-icon-delete"})])]),i("div",{staticClass:"el-animate-item"},[i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("动画时长：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,step:.1},model:{value:e.duration,callback:function(i){t.$set(e,"duration",i)},expression:"item.duration"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("动画延迟：")]),i("div",{staticClass:"col-2  attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,step:.1},model:{value:e.delay,callback:function(i){t.$set(e,"delay",i)},expression:"item.delay"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("循环次数：")]),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-input-number",{attrs:{size:"mini","controls-position":"right"},model:{value:e.interationCount,callback:function(i){t.$set(e,"interationCount",i)},expression:"item.interationCount"}}),i("div",{staticClass:"attr-item-edit-input-des"},[t._v("次数")])],1),i("div",{staticClass:"col-2 attr-item-edit-input"},[i("el-checkbox",{attrs:{label:"infinite",border:"",size:"small"},model:{value:e.infinite,callback:function(i){t.$set(e,"infinite",i)},expression:"item.infinite"}},[t._v("循环播放")])],1)])])],2)})),1)],1)]):i("div",[i("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])]),i("div",{staticClass:"components-attr-edit animate-choose-list-wrapper",class:{fadeInUp:t.showAnimatePanel,fadeInDown:!t.showAnimatePanel,animate:t.showAnimatePanel}},[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.animateCssDatas,(function(e){return i("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[i("el-scrollbar",{staticClass:"animate-choose-item"},t._l(e.children,(function(n,a){return i("div",{key:a,staticClass:"animate-choose-item-inner",on:{mouseover:function(e){t.hoverPreviewAnimate=n.value},mouseleave:function(e){t.hoverPreviewAnimate=""},click:function(e){return t.handleChooseAnimate(n)}}},[i("span",{staticClass:"animate-choose-image",class:[t.hoverPreviewAnimate===n.value&&n.value+" animated"],style:{backgroundPosition:e.bg_X+"px "+e.bg_Y+"px"}}),i("p",[t._v(t._s(n.label))])])})),0)],1)})),1)],1)],1)},Gt=[],Qt=i("9ed0"),Zt=i("aee2");function te(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ee(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?te(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ie={data:function(){return{animateCssDatas:Qt["a"],activeName:"进入",showAnimatePanel:!1,reSelectAnimateIndex:void 0,hoverPreviewAnimate:""}},computed:ee(ee({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement"])),watch:{activePageUUID:function(){this.addAnimate(!1)},activeElementUUID:function(){this.addAnimate(!1)}},methods:{handleChooseAnimate:function(t){this.showAnimatePanel=!1,void 0===this.reSelectAnimateIndex?this.$store.dispatch("addElementAnimate",t.value):(this.activeElement.animations[this.reSelectAnimateIndex].type=t.value,this.$store.dispatch("addHistoryCache"))},handleDeleteAnimate:function(t){this.$store.dispatch("deleteElementAnimate",t)},addAnimate:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showAnimatePanel=t,this.reSelectAnimateIndex=void 0},handleShowChooseAnimatePanel:function(t){this.reSelectAnimateIndex=t,this.showAnimatePanel=!0},runAnimate:function(t){var e=void 0===t?this.activeElement.animations:[this.activeElement.animations[t]];Zt["a"].$emit("RUN_ANIMATIONS",this.activeElement.uuid,e)}}},ne=ie,ae=(i("9d60"),i("d961"),Object(b["a"])(ne,Yt,Gt,!1,null,"5ce3b6ea",null)),oe=ae.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-attr-edit"},[i("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?i("div",{staticClass:"attr-edit-inner"},[i("div",{staticClass:"animate-edit-btn-wrapper"},[i("el-dropdown",[i("el-button",{attrs:{type:"primary",size:"small"}},[t._v("\n            添加事件"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.eventTypeList,(function(e,n){return i("el-dropdown-item",{key:n},[i("div",{on:{click:function(i){return t.addEvent(e.value)}}},[t._v(t._s(e.label))])])})),1)],1),i("p",{staticClass:"gray inline-block fontsize-12 marginL10"},[t._v("事件在编辑模式下无效果")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.events.length,expression:"activeElement.events.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[i("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.events,(function(e,n){return i("el-collapse-item",{key:n},[i("template",{slot:"title"},[i("span",{staticClass:"el-animate-title-name"},[t._v("事件 "+t._s(n+1))]),i("div",{staticClass:"el-animate-title-type-wrapper"},[i("span",{staticClass:"el-animate-title-type"},[t._v(t._s(t._f("getLabelText")(e.type,t.eventTypeList)))])]),i("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteEvent(n)}}},[i("i",{staticClass:"el-icon-delete"})])]),i("div",{staticClass:"el-animate-item"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"share"!==e.type,expression:"item.type !== 'share'"}],staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("链接/接口url：")]),i("div",{staticClass:"col-1  attr-item-edit-input"},[i("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url"},model:{value:e.url,callback:function(i){t.$set(e,"url",i)},expression:"item.url"}})],1)])])],2)})),1)],1)]):i("div",[i("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])])],1)},re=[];function se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function le(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?se(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var pe={name:"event-edit",data:function(){return{eventTypeList:[{label:"链接跳转",value:"link"},{label:"分享",value:"share"},{label:"表单提交",value:"submitForm"}]}},computed:le(le({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),methods:{addEvent:function(t){this.$store.dispatch("addElementEvent",t)},deleteEvent:function(t){this.$store.dispatch("deleteElementEvent",t)}}},ue=pe,me=(i("5aa4"),Object(b["a"])(ue,ce,re,!1,null,"ca44897e",null)),de=me.exports,ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-scrollbar",{staticClass:"components-attr-edit"},[i("p",{staticClass:"page-title fontBold"},[t._v("当前页样式")]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("背景颜色：")]),i("div",{staticClass:"attr-item-edit-input no-top"},[i("el-color-picker",{attrs:{size:"mini","show-alpha":!0},model:{value:t.activePage.commonStyle.backgroundColor,callback:function(e){t.$set(t.activePage.commonStyle,"backgroundColor",e)},expression:"activePage.commonStyle.backgroundColor"}})],1)]),i("div",{staticClass:"attr-item-edit-wrapper"},[i("p",{staticClass:"attr-item-title"},[t._v("背景图片：")]),i("div",{staticClass:"attr-item-edit-input"},[i("imageSelect",{attrs:{url:t.activePage.commonStyle.backgroundImage},on:{"update:url":function(e){return t.$set(t.activePage.commonStyle,"backgroundImage",e)}}})],1)])])},fe=[];function he(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function be(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?he(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):he(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ge={components:{imageSelect:G["a"]},computed:be(be({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"]))},ye=ge,we=(i("502a"),Object(b["a"])(ye,ve,fe,!1,null,"765a9578",null)),Ce=we.exports,Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-script-edit"},[i("p",{staticClass:"page-title fontBold"},[t._v("脚本编辑")]),i("p",{staticClass:"gray paddingL10 fontsize-12"},[t._v("js脚本在编辑模式下无效果")]),i("div",{staticClass:"paddingT20"},[i("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入代码"},model:{value:t.projectData.script,callback:function(e){t.$set(t.projectData,"script",e)},expression:"projectData.script"}})],1)])},je=[];function Se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Se(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ee={computed:Pe(Pe({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(O["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"]))},xe=Ee,ke=Object(b["a"])(xe,Oe,je,!1,null,"d1dc7c56",null),De=ke.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-contrl-bar"},[i("div",{staticClass:"button-item scale-wrappper"},[i("span",{staticClass:"scale-btn",on:{click:function(e){return t.updateScale("reduce")}}},[i("i",{staticClass:"el-icon-zoom-out"})]),i("span",{staticClass:"scale-input"},[t._v(t._s(parseFloat(100*t.scaleValue).toFixed(0))+"%")]),i("span",{staticClass:"scale-btn",on:{click:function(e){return t.updateScale("plus")}}},[i("i",{staticClass:"el-icon-zoom-in"})])]),i("div",{staticClass:"button-item",class:{disabled:!t.canUndo},on:{click:t.editorUndo}},[i("i",{staticClass:"iconfont iconundo1"}),i("p",[t._v("撤销")])]),i("div",{staticClass:"button-item",class:{disabled:!t.canRedo},on:{click:t.editorRedo}},[i("i",{staticClass:"iconfont iconredo1"}),i("p",[t._v("重做")])]),i("UploadPsd",{on:{"upload-success":t.uploadSuccessPsd}},[i("div",{staticClass:"button-item"},[i("i",{staticClass:"iconfont iconps"}),i("p",[t._v("导入psd")])])]),i("div",{staticClass:"button-item",on:{click:t.save}},[i("i",{staticClass:"iconfont iconbaocun"}),i("p",[t._v("保存")])]),i("div",{staticClass:"button-item",on:{click:t.cancelFn}},[i("i",{staticClass:"iconfont icontuichu"}),i("p",[t._v("退出")])])],1)},Ue=[],Ie=i("e7ec");function $e(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ae(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ze={components:{UploadPsd:Ie["a"]},props:{loading:{type:Boolean,default:!1},scale:{type:Number,default:1}},data:function(){return{scaleValue:1}},computed:Ae({},Object(O["c"])(["canUndo","canRedo"])),created:function(){this.scaleValue=this.scale},methods:Ae(Ae({},Object(O["b"])(["editorUndo","editorRedo"])),{},{updateScale:function(t,e){"plus"===t?this.scaleValue=this.scaleValue+(e||.1)>2?2:this.scaleValue+(e||.1):"reduce"===t?this.scaleValue=this.scaleValue-(e||.1)>.5?this.scaleValue-(e||.1):.5:"reset"===t&&(this.scaleValue=e||1),this.$emit("update:scale",this.scaleValue)},uploadSuccessPsd:function(t){this.$emit("import-psd-data",t)},save:function(){this.$emit("save")},showPreview:function(){this.$emit("showPreview")},publishFn:function(){this.$emit("publish")},cancelFn:function(){this.$emit("cancel")}})},Te=ze,Le=(i("38d0"),Object(b["a"])(Te,_e,Ue,!1,null,"60bab6ea",null)),Ve=Le.exports,He=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("previewWrapper",{attrs:{pageId:t.pageId},on:{closePreview:t.closePreview}},[i("p",{staticClass:"page-title paddingL30"},[t._v("页面基础设置")]),i("div",{staticClass:"preview-info-wrapper"},[i("div",{staticClass:"page-info"},[i("div",{staticClass:"page-cover"},[i("imageCropper",{attrs:{url:t.pageData.coverImage},on:{"update:url":function(e){return t.$set(t.pageData,"coverImage",e)}}})],1),i("div",{staticClass:"page-title-des"},[i("div",{staticClass:"info-form-wrapper"},[i("div",{staticClass:"info-form-l"},[t._v("标题：")]),i("div",{staticClass:"info-form-r"},[i("el-input",{model:{value:t.pageData.title,callback:function(e){t.$set(t.pageData,"title",e)},expression:"pageData.title"}})],1)]),i("div",{staticClass:"info-form-wrapper"},[i("div",{staticClass:"info-form-l"},[t._v("描述：")]),i("div",{staticClass:"info-form-r"},[i("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.pageData.description,callback:function(e){t.$set(t.pageData,"description",e)},expression:"pageData.description"}})],1)])])]),i("div",{staticClass:"foot-btn-wrapper"},[i("el-button",{attrs:{type:"primary"},on:{click:t.publishFn}},[t._v("保存并发布")]),i("el-button",{on:{click:t.saveFn}},[t._v("保 存")]),i("el-button",{on:{click:t.closePreview}},[t._v("取 消")])],1)])])},Ne=[],Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-preview"},[i("div",{staticClass:"setting-bg"}),i("div",{staticClass:"left-panel"},[i("div",{staticClass:"iframe-wrapper",style:{width:t.$config.canvasH5Width+"px",height:t.$config.canvasH5Height+"px"}},[i("iframe",{staticStyle:{"background-color":"transparent",width:"100%",height:"100%"},attrs:{src:t.$config.baseURL+"/quark/view/"+t.pageId,frameborder:"0"}})])]),i("div",{staticClass:"right-panel"},[t._t("default")],2),i("span",{staticClass:"cloase-btn",on:{click:t.closePreview}},[i("i",{staticClass:"el-icon-close"})])])},Be=[],qe={name:"preview-page",props:{pageId:String},data:function(){return{}},created:function(){},methods:{closePreview:function(){this.$emit("closePreview",!1)}}},Fe=qe,We=(i("cd9d"),Object(b["a"])(Fe,Re,Be,!1,null,"e3f8f8be",null)),Me=We.exports,Je=i("39ba"),Ke={components:{previewWrapper:Me,imageCropper:Je["a"]},props:{pageId:String,pageData:{type:Object,require:!0}},data:function(){return{}},methods:{closePreview:function(){this.$emit("closePreview",!1)},publishFn:function(){this.$emit("publishFn")},saveFn:function(){this.$emit("saveFn")}}},Xe=Ke,Ye=(i("88b2"),Object(b["a"])(Xe,He,Ne,!1,null,"62a5618d",null)),Ge=Ye.exports,Qe=i("2056"),Ze=i("3e7c");function ti(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ei(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ti(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ti(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ii={elName:"",animations:[],commonStyle:{position:"absolute",width:p["a"].canvasH5Width,height:30,top:200,left:0,rotate:0,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:0,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,borderWidth:0,borderColor:"",borderStyle:"solid",borderRadius:0,boxShadow:"",fontSize:16,fontWeight:500,lineHeight:1.4,letterSpacing:0,textAlign:"center",color:"#000000",backgroundColor:"",backgroundImage:"",backgroundSize:"cover",opacity:1,zIndex:1},events:[],propsValue:{},value:"",valueType:"String"},ni={name:"",elements:[],commonStyle:{backgroundColor:"",backgroundImage:"",backgroundSize:"cover"},config:{}},ai={name:"",title:"未命名场景",description:"我用夸克可视化编辑器做了一个超酷炫的H5，快来看看吧。",coverImage:"",auther:"",script:"",width:p["a"].canvasH5Width,height:p["a"].canvasH5Height,pages:[]},oi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(l["cloneDeep"])(t),n=i.valueType||"String",a={Sting:"",Array:[],Object:{},Boolean:!1,Number:0},o=Object(l["cloneDeep"])(ii),c=ei(ei({uuid:Object(Ze["a"])()},o),{},{elName:i.elName,propsValue:Object(Ze["b"])(i.needProps||{})});return c.commonStyle=Object(l["merge"])(c.commonStyle,i.defaultStyle),c.commonStyle=Object(l["merge"])(c.commonStyle,e),c.value=t.defaultValue||a[n],c.valueType=n,c},ci=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Object(l["cloneDeep"])(t),t.uuid=Object(Ze["a"])(),t.commonStyle=Object(l["merge"])(t.commonStyle,e),t.commonStyle.top=t.commonStyle.top+10,t.commonStyle.left=t.commonStyle.left+10,t},ri=function(){return ei({uuid:Object(Ze["a"])()},Object(l["cloneDeep"])(ni))},si=function(t){var e=Object(l["cloneDeep"])(t);return e.uuid=Object(Ze["a"])(),e.elements=e.elements.map((function(t){return ci(t)})),e},li=function(){var t=Object(l["cloneDeep"])(ai),e=ri();return t.pages.push(ei({},e)),ei({},t)},pi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=["width","height","top","left","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","borderWidth","fontSize","borderRadius","letterSpacing"],n={};for(var a in t)i.includes(a)?n[a]=t[a]*e+"px":n[a]=t[a];return n.transform="rotate(".concat(n.rotate,"deg)"),n.backgroundImage=n.backgroundImage?"url(".concat(n.backgroundImage,")"):"",n},ui={elementConfig:ii,pageConfig:ni,projectConfig:ai,getElementConfig:oi,getPageConfig:ri,getProjectConfig:li,copyPage:si,copyElement:ci,getCommonStyle:pi};function mi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function di(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?mi(Object(i),!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var vi={components:{componentLibs:y,pageManage:k,templateLibs:A,imageLibs:Qe["a"],editorPan:M,attrEdit:Xt,animationEdit:oe,eventEdit:de,pageAttrEdit:Ce,scriptEdit:De,controlBar:Ve,previewPage:Ge},data:function(){return{id:"",loading:!1,showPreview:!1,activeAttr:"属性",activeSideBar:"componentLibs",sidebarMenus:[{label:"组件列表",value:"componentLibs",elementUiIcon:"el-icon-s-operation"},{label:"页面管理",value:"pageManage",elementUiIcon:"el-icon-document"},{label:"模板库",value:"templateLibs",elementUiIcon:"el-icon-files"}],canvasConfig:{scale:1}}},computed:di({},Object(O["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),created:function(){var t=this;this.$store.dispatch("setPrjectData");var e=ui.getProjectConfig();this.loading=!0;var i=this;this.$API.createPage(di({},e)).then((function(t){i.loading=!1,t.body&&(i.id=t.body._id,i.initPageData())})).catch((function(){t.loading=!1}))},methods:{initPageData:function(){var t=this;this.loading=!0,this.$API.getPageDetail({pageId:this.id}).then((function(e){t.loading=!1,t.$store.dispatch("setPrjectData",di({},e.body))})).catch((function(){t.loading=!1}))},saveFn:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$API.updatePage({pageData:this.projectData}).then((function(){e.$message({showClose:!0,message:"保存成功!",type:"success"}),e.showPreview=!1,window.parent.postMessage({event:"save",page:e.projectData},"*")}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),publishFn:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=di({},this.projectData),e.isPublish=!0,this.$API.updatePage({pageData:e}).then((function(){i.$message.success("已成功保存并发布!"),i.showPreview=!1,i.$router.push({name:"pageList"})}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showPreviewFn:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$API.updatePage({pageData:this.projectData}).then((function(){e.showPreview=!0}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelFn:function(){this.$confirm("确认退出编辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.parent.postMessage({event:"return"},"*")})).catch((function(){}))},screenshots:function(){var t=this,e=document.querySelector("#canvas-panel");return new Promise((function(i,n){N()(e,{proxy:"".concat(t.$config.baseURL,"/common/html2canvas/corsproxy")}).then((function(e){var a=e.toDataURL("image/jpeg",.6),o=t.$mUtils.dataURItoBlob(a),c=new window.File([o],+new Date+".png",{type:"image/png"}),r=new FormData;r.append("file",c),t.$axios.post("/common/uploadFile",r).then((function(e){t.projectData.coverImage=e.body,i(e.body)})).catch((function(t){n(t)}))}))}))},importPsdData:function(t){var e=this,i=t.elements,n=t.document.width,a=this.projectData.width/n;i.forEach((function(t){var i=t.width,n=t.height,o=t.top,c=t.left,r=t.imageSrc,s=t.opacity,l=t.zIndex;setTimeout((function(){e.$store.dispatch("addElement",{elName:"qk-image",defaultStyle:{width:i*a,height:n*a,top:o*a,left:c*a,zIndex:l,opacity:s},needProps:{imageSrc:r}})}),10)}))}}},fi=vi,hi=(i("10eb"),i("8572"),Object(b["a"])(fi,n,a,!1,null,"59f96470",null));e["default"]=hi.exports},cd9a:function(t,e,i){"use strict";i("0f40")},cd9d:function(t,e,i){"use strict";i("d14f")},d14f:function(t,e,i){},d444:function(t,e,i){"use strict";i("0cd8")},d961:function(t,e,i){"use strict";i("a9c5")},de7e:function(t,e,i){"use strict";i("89d9")},e83e:function(t,e,i){},f985:function(t,e,i){"use strict";i("739a")}}]);
//# sourceMappingURL=chunk-6d044d97.1d806d00.js.map